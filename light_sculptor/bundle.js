(()=>{const e=document.getElementById("canvas"),t=document.getElementById("menu"),n=document.getElementById("hint");let i={split:50,warmth:255,softness:0,mode:"white",isPulsing:!1,pulseVal:1,initialPinchDist:0};function o(){let t;"white"===i.mode?t=`rgb(255, ${Math.max(180,i.warmth)}, ${i.warmth})`:"red"===i.mode?t=`rgb(${i.warmth}, 0, 0)`:"blue"===i.mode?t=`rgb(0, 0, ${i.warmth})`:"green"===i.mode&&(t=`rgb(0, ${i.warmth}, 0)`),i.isPulsing?e.style.opacity=i.pulseVal:e.style.opacity=1,document.documentElement.style.setProperty("--light-color",t),document.documentElement.style.setProperty("--split",i.split+"%"),document.documentElement.style.setProperty("--softness",i.softness+"%")}window.addEventListener("touchstart",e=>{const n=e.touches[0],i=window.innerWidth;if(n.clientX>i-60&&n.clientY<60){const e="none"===t.style.display||""===t.style.display;return t.style.display=e?"flex":"none",void window.Capacitor}}),window.addEventListener("touchmove",e=>{if("flex"===t.style.display)return;e.preventDefault();const s=e.touches[0];if(i.split=s.clientX/window.innerWidth*100,i.warmth=s.clientY/window.innerHeight*255,2===e.touches.length){const t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,o=Math.sqrt(t*t+n*n),s=.15,l=(o-i.initialPinchDist)*s;i.softness=Math.max(0,Math.min(45,i.softness+l)),i.initialPinchDist=o}o(),n.style.opacity=0});let s=null,l=500,c="none";function d(t){c=t,document.querySelectorAll('[id^="fx-"]').forEach(e=>e.classList.remove("active")),document.getElementById(`fx-${t}`).classList.add("active"),document.getElementById("speed-control").style.display="none"===t?"none":"block",s&&clearInterval(s),e.style.opacity=1,"pulse"===t?a():"strobe"===t&&r()}function a(){e.style.transition=`opacity ${l}ms ease-in-out`;let t=!1;s=setInterval(()=>{e.style.opacity=t?1:.1,t=!t},l)}function r(){e.style.transition="none",s=setInterval(()=>{e.style.opacity=0,setTimeout(()=>{e.style.opacity=1},10)},l)}var u;window.closeMenu=void(t.style.display="none"),window.runStrobe=r(),window.setEffect=d(),window.updateSpeed=(l=u,document.getElementById("speed-label").innerText=`SPEED: ${u}ms`,void d(c)),window.setMode=(i.mode=undefined,document.querySelectorAll(".btn-group button").forEach(e=>e.classList.remove("active")),event.target.classList.add("active"),void o()),window.updateDisplay=o(),window.runPulse=a()})();
//# sourceMappingURL=bundle.js.map