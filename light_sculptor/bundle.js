(()=>{const e=document.getElementById("canvas"),t=document.getElementById("menu"),n=document.getElementById("btn-white"),s=document.getElementById("btn-red"),i=document.getElementById("btn-green"),o=document.getElementById("btn-blue"),l=document.getElementById("btn-close"),c=document.getElementById("fx-none"),d=document.getElementById("fx-pulse"),a=document.getElementById("fx-strobe"),r=document.getElementById("inp-speed");let m={split:50,warmth:255,softness:0,mode:"white",isPulsing:!1,initialPinchDist:0};function u(){let t;"white"===m.mode?t=`rgb(255, ${Math.max(180,m.warmth)}, ${m.warmth})`:"red"===m.mode?t=`rgb(${m.warmth}, 0, 0)`:"blue"===m.mode?t=`rgb(0, 0, ${m.warmth})`:"green"===m.mode&&(t=`rgb(0, ${m.warmth}, 0)`),e.style.opacity=1,document.documentElement.style.setProperty("--light-color",t),document.documentElement.style.setProperty("--split",m.split+"%"),document.documentElement.style.setProperty("--softness",m.softness+"%")}function y(e,t){m.mode=e,document.querySelectorAll(".btn-group button").forEach(e=>e.classList.remove("active")),t.target.classList.add("active"),u()}console.log("Checking for btnClose:",l),window.addEventListener("touchstart",e=>{const n=e.touches[0],s=window.innerWidth;if(n.clientX>s-60&&n.clientY<60){const e="none"===t.style.display||""===t.style.display;return t.style.display=e?"flex":"none",e&&l.addEventListener("click",e=>{t.style.display="none"}),void window.Capacitor}}),window.addEventListener("touchmove",e=>{if("flex"===t.style.display)return;e.preventDefault();const n=e.touches[0];if(m.split=n.clientX/window.innerWidth*100,m.warmth=n.clientY/window.innerHeight*255,2===e.touches.length){const t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,s=Math.sqrt(t*t+n*n),i=.15,o=(s-m.initialPinchDist)*i;m.softness=Math.max(0,Math.min(45,m.softness+o)),m.initialPinchDist=s}u(),hint.style.opacity=0});let h=null,p="none";function E(t){p=t,document.querySelectorAll('[id^="fx-"]').forEach(e=>e.classList.remove("active")),document.getElementById(`fx-${t}`).classList.add("active"),document.getElementById("speed-control").style.display="none"===t?"none":"block",h&&clearInterval(h),e.style.opacity=1,"pulse"===t?function(){e.style.transition="opacity 500ms ease-in-out";let t=!1;h=setInterval(()=>{e.style.opacity=t?1:.1,t=!t},500)}():"strobe"===t&&(e.style.transition="none",h=setInterval(()=>{e.style.opacity=0,setTimeout(()=>{e.style.opacity=1},10)},500))}r.addEventListener("input",e=>{const t=e.target.value;document.getElementById("speed-label").innerText=`SPEED: ${parseInt(t)}ms`,E(p)}),n.addEventListener("click",e=>{y("white",e)}),i.addEventListener("click",e=>{y("green",e)}),s.addEventListener("click",e=>{y("red",e)}),o.addEventListener("click",e=>{y("blue",e)}),c.addEventListener("click",()=>{E("none")}),a.addEventListener("click",()=>{E("strobe")}),d.addEventListener("click",()=>{E("pulse")})})();
//# sourceMappingURL=bundle.js.map