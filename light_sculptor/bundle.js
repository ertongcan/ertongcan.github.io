(()=>{const e=document.getElementById("canvas"),t=document.getElementById("menu"),n=document.getElementById("btn-white"),s=document.getElementById("btn-red"),i=document.getElementById("btn-green"),l=document.getElementById("btn-blue"),o=document.getElementById("btn-close"),c=document.getElementById("fx-none"),d=document.getElementById("fx-pulse"),a=document.getElementById("fx-strobe");let r={split:50,warmth:255,softness:0,mode:"white",isPulsing:!1,pulseVal:1,initialPinchDist:0};function m(){let t;"white"===r.mode?t=`rgb(255, ${Math.max(180,r.warmth)}, ${r.warmth})`:"red"===r.mode?t=`rgb(${r.warmth}, 0, 0)`:"blue"===r.mode?t=`rgb(0, 0, ${r.warmth})`:"green"===r.mode&&(t=`rgb(0, ${r.warmth}, 0)`),r.isPulsing?e.style.opacity=r.pulseVal:e.style.opacity=1,document.documentElement.style.setProperty("--light-color",t),document.documentElement.style.setProperty("--split",r.split+"%"),document.documentElement.style.setProperty("--softness",r.softness+"%")}function u(e){r.mode=e,document.querySelectorAll(".btn-group button").forEach(e=>e.classList.remove("active")),event.target.classList.add("active"),m()}window.addEventListener("touchstart",e=>{const n=e.touches[0],s=window.innerWidth;if(n.clientX>s-60&&n.clientY<60){const e="none"===t.style.display||""===t.style.display;return t.style.display=e?"flex":"none",void window.Capacitor}}),window.addEventListener("touchmove",e=>{if("flex"===t.style.display)return;e.preventDefault();const n=e.touches[0];if(r.split=n.clientX/window.innerWidth*100,r.warmth=n.clientY/window.innerHeight*255,2===e.touches.length){const t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,s=Math.sqrt(t*t+n*n),i=.15,l=(s-r.initialPinchDist)*i;r.softness=Math.max(0,Math.min(45,r.softness+l)),r.initialPinchDist=s}m(),hint.style.opacity=0});let y=null,h="none";function p(t){h=t,document.querySelectorAll('[id^="fx-"]').forEach(e=>e.classList.remove("active")),document.getElementById(`fx-${t}`).classList.add("active"),document.getElementById("speed-control").style.display="none"===t?"none":"block",y&&clearInterval(y),e.style.opacity=1,"pulse"===t?function(){e.style.transition="opacity 500ms ease-in-out";let t=!1;y=setInterval(()=>{e.style.opacity=t?1:.1,t=!t},500)}():"strobe"===t&&(e.style.transition="none",y=setInterval(()=>{e.style.opacity=0,setTimeout(()=>{e.style.opacity=1},10)},500))}n.addEventListener("click",()=>{u("white")}),i.addEventListener("click",()=>{u("green")}),s.addEventListener("click",()=>{u("red")}),l.addEventListener("click",()=>{u("blue")}),c.addEventListener("click",()=>{p("steady")}),a.addEventListener("click",()=>{p("strobe")}),d.addEventListener("click",()=>{p("pulse")}),o.addEventListener("click",()=>{t.style.display="none"})})();
//# sourceMappingURL=bundle.js.map