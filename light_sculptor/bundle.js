(()=>{const e=document.getElementById("canvas"),t=document.getElementById("menu"),n=document.getElementById("btn-white"),o=document.getElementById("btn-red"),s=document.getElementById("btn-green"),i=document.getElementById("btn-blue"),l=document.getElementById("btn-close"),c=document.getElementById("fx-none"),d=document.getElementById("fx-pulse"),r=document.getElementById("fx-strobe");let a={split:50,warmth:255,softness:0,mode:"white",isPulsing:!1,initialPinchDist:0};function m(){let t;"white"===a.mode?t=`rgb(255, ${Math.max(180,a.warmth)}, ${a.warmth})`:"red"===a.mode?t=`rgb(${a.warmth}, 0, 0)`:"blue"===a.mode?t=`rgb(0, 0, ${a.warmth})`:"green"===a.mode&&(t=`rgb(0, ${a.warmth}, 0)`),e.style.opacity=1,document.documentElement.style.setProperty("--light-color",t),document.documentElement.style.setProperty("--split",a.split+"%"),document.documentElement.style.setProperty("--softness",a.softness+"%")}function u(e,t){a.mode=e,document.querySelectorAll(".btn-group button").forEach(e=>e.classList.remove("active")),t.target.classList.add("active"),m()}window.addEventListener("touchstart",e=>{const n=e.touches[0],o=window.innerWidth;if(n.clientX>o-60&&n.clientY<60){const e="none"===t.style.display||""===t.style.display;return t.style.display=e?"flex":"none",void window.Capacitor}}),console.log("Checking for btnClose:",document.getElementById("btnClose")),l.addEventListener("click",()=>{t.style.display="none"}),window.addEventListener("touchmove",e=>{if("flex"===t.style.display)return;e.preventDefault();const n=e.touches[0];if(a.split=n.clientX/window.innerWidth*100,a.warmth=n.clientY/window.innerHeight*255,2===e.touches.length){const t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,o=Math.sqrt(t*t+n*n),s=.15,i=(o-a.initialPinchDist)*s;a.softness=Math.max(0,Math.min(45,a.softness+i)),a.initialPinchDist=o}m(),hint.style.opacity=0});let y=null,h="none";function g(t){h=t,document.querySelectorAll('[id^="fx-"]').forEach(e=>e.classList.remove("active")),document.getElementById(`fx-${t}`).classList.add("active"),document.getElementById("speed-control").style.display="none"===t?"none":"block",y&&clearInterval(y),e.style.opacity=1,"pulse"===t?function(){e.style.transition="opacity 500ms ease-in-out";let t=!1;y=setInterval(()=>{e.style.opacity=t?1:.1,t=!t},500)}():"strobe"===t&&(e.style.transition="none",y=setInterval(()=>{e.style.opacity=0,setTimeout(()=>{e.style.opacity=1},10)},500))}n.addEventListener("click",e=>{u("white",e)}),s.addEventListener("click",e=>{u("green",e)}),o.addEventListener("click",e=>{u("red",e)}),i.addEventListener("click",e=>{u("blue",e)}),c.addEventListener("click",()=>{g("none")}),r.addEventListener("click",()=>{g("strobe")}),d.addEventListener("click",()=>{g("pulse")})})();
//# sourceMappingURL=bundle.js.map