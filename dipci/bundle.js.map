{"version":3,"file":"bundle.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,oEAAoE,KAAK;AACzE,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,mCAAmC;AACnC,mCAAmC;AACnC,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD,KAAK;AACL;AACA;AACA,CAAC;AACD","sources":["webpack:///./main.js"],"sourcesContent":["const videoElement = document.getElementById('video-input');\r\nconst p1ScoreDiv = document.getElementById('p1-score');\r\nconst p2ScoreDiv = document.getElementById('p2-score');\r\n\r\nconst faceMesh = new FaceMesh({locateFile: (file) => {\r\n        return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`;\r\n    }});\r\n\r\nfaceMesh.setOptions({\r\n    maxNumFaces: 2, // Enable two-player mode\r\n    refineLandmarks: true,\r\n    minDetectionConfidence: 0.5,\r\n    minTrackingConfidence: 0.5\r\n});\r\n\r\nfunction calculateImbalance(landmarks) {\r\n    const anchor = landmarks[168]; // Nose Bridge\r\n    const L = landmarks[133];      // Left Inner Eye\r\n    const R = landmarks[362];      // Right Inner Eye\r\n\r\n    const dist3D = (p1, p2) => Math.sqrt(\r\n        Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2) + Math.pow(p1.z - p2.z, 2)\r\n    );\r\n\r\n    const dL = dist3D(anchor, L);\r\n    const dR = dist3D(anchor, R);\r\n\r\n    // Percent difference (Symmetry Score)\r\n    return (Math.abs(dL - dR) / ((dL + dR) / 2)) * 100;\r\n}\r\n\r\nfaceMesh.onResults(results => {\r\n    // Reset scores if no one is detected\r\n    p1ScoreDiv.innerText = \"--%\";\r\n    p2ScoreDiv.innerText = \"--%\";\r\n\r\n    if (results.multiFaceLandmarks) {\r\n        results.multiFaceLandmarks.forEach((landmarks, index) => {\r\n            const score = calculateImbalance(landmarks);\r\n            const displayScore = score.toFixed(1) + \"%\";\r\n\r\n            if (index === 0) {\r\n                p1ScoreDiv.innerText = displayScore;\r\n                document.getElementById('p1-card').classList.toggle('winner', score < 5);\r\n            } else if (index === 1) {\r\n                p2ScoreDiv.innerText = displayScore;\r\n                document.getElementById('p2-card').classList.toggle('winner', score < 5);\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\nconst camera = new Camera(videoElement, {\r\n    onFrame: async () => {\r\n        await faceMesh.send({image: videoElement});\r\n    },\r\n    width: 1280,\r\n    height: 720\r\n});\r\ncamera.start();\r\n"],"names":[],"ignoreList":[],"sourceRoot":""}